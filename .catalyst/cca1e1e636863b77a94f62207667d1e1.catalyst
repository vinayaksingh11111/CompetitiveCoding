{"title":"C. Unstable String","contestId":"1535","problemIndex":"C","timeLimit":"2 seconds","memLimit":"256 megabytes","inputFormat":"standard input","outputFormat":"standard output","problemHtml":"<p>You are given a string $$$s$$$ consisting of the characters <span class=\"tex-font-style-tt\">0</span>, <span class=\"tex-font-style-tt\">1</span>, and <span class=\"tex-font-style-tt\">?</span>.</p><p>Let&apos;s call a string <span class=\"tex-font-style-bf\">unstable</span> if it consists of the characters <span class=\"tex-font-style-tt\">0</span> and <span class=\"tex-font-style-tt\">1</span> and any two adjacent characters are different (i.&#xA0;e. it has the form <span class=\"tex-font-style-tt\">010101...</span> or <span class=\"tex-font-style-tt\">101010...</span>).</p><p>Let&apos;s call a string <span class=\"tex-font-style-bf\">beautiful</span> if it consists of the characters <span class=\"tex-font-style-tt\">0</span>, <span class=\"tex-font-style-tt\">1</span>, and <span class=\"tex-font-style-tt\">?</span>, and you can replace the characters <span class=\"tex-font-style-tt\">?</span> to <span class=\"tex-font-style-tt\">0</span> or <span class=\"tex-font-style-tt\">1</span> (for each character, the choice is independent), so that the string becomes <span class=\"tex-font-style-bf\">unstable</span>.</p><p>For example, the strings <span class=\"tex-font-style-tt\">0??10</span>, <span class=\"tex-font-style-tt\">0</span>, and <span class=\"tex-font-style-tt\">???</span> are beautiful, and the strings <span class=\"tex-font-style-tt\">00</span> and <span class=\"tex-font-style-tt\">?1??1</span> are not.</p><p>Calculate the number of beautiful contiguous substrings of the string $$$s$$$.</p>","inSpecsHtml":"<div class=\"section-title\">Input</div><p>The first line contains a single integer $$$t$$$ ($$$1 \\le t \\le 10^4$$$)&#xA0;&#x2014; number of test cases.</p><p>The first and only line of each test case contains the string $$$s$$$ ($$$1 \\le |s| \\le 2 \\cdot 10^5$$$) consisting of characters <span class=\"tex-font-style-tt\">0</span>, <span class=\"tex-font-style-tt\">1</span>, and <span class=\"tex-font-style-tt\">?</span>.</p><p>It is guaranteed that the sum of the string lengths over all test cases does not exceed $$$2 \\cdot 10^5$$$.</p>","outSpecsHtml":"<div class=\"section-title\">Output</div><p>For each test case, output a single integer&#xA0;&#x2014; the number of <span class=\"tex-font-style-bf\">beautiful</span> substrings of the string $$$s$$$.</p>","noteHtml":null,"sampleTestcases":[{"id":1622820013675,"input":"3\n0?10\n???\n?10??1100\n","output":"8\n6\n25\n"}],"submitUrl":"https://codeforces.com/contest/1535/submit","language":"c++"}